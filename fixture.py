def register(add_route):
    add_route("*", "/contest", "contest_main")
    add_route("*", "/d/{domain_id}/contest", "contest_main_with_domain_id")
    add_route("*", "/contest/{tid:\w{24}}", "contest_detail")
    add_route("*", "/d/{domain_id}/contest/{tid:\w{24}}", "contest_detail_with_domain_id")
    add_route("*", "/contest/{tid:\w{24}}/code", "contest_code")
    add_route("*", "/d/{domain_id}/contest/{tid:\w{24}}/code", "contest_code_with_domain_id")
    add_route("*", "/contest/{tid}/{pid:-?\d+|\w{24}}", "contest_detail_problem")
    add_route("*", "/d/{domain_id}/contest/{tid}/{pid:-?\d+|\w{24}}", "contest_detail_problem_with_domain_id")
    add_route("*", "/contest/{tid}/{pid}/submit", "contest_detail_problem_submit")
    add_route("*", "/d/{domain_id}/contest/{tid}/{pid}/submit", "contest_detail_problem_submit_with_domain_id")
    add_route("*", "/contest/{tid}/status", "contest_status")
    add_route("*", "/d/{domain_id}/contest/{tid}/status", "contest_status_with_domain_id")
    add_route("*", "/contest/create", "contest_create")
    add_route("*", "/d/{domain_id}/contest/create", "contest_create_with_domain_id")
    add_route("*", "/discuss", "discussion_main")
    add_route("*", "/d/{domain_id}/discuss", "discussion_main_with_domain_id")
    add_route("*", "/discuss/{doc_id:\w{1,23}|\w{25,}|[^/]*[^/\w][^/]*}", "discussion_node")
    add_route("*", "/d/{domain_id}/discuss/{doc_id:\w{1,23}|\w{25,}|[^/]*[^/\w][^/]*}", "discussion_node_with_domain_id")
    add_route("*", "/discuss/{doc_type:-?\d+}/{doc_id}", "discussion_node_document_as_node")
    add_route("*", "/d/{domain_id}/discuss/{doc_type:-?\d+}/{doc_id}", "discussion_node_document_as_node_with_domain_id")
    add_route("*", "/discuss/{doc_id}/create", "discussion_create")
    add_route("*", "/d/{domain_id}/discuss/{doc_id}/create", "discussion_create_with_domain_id")
    add_route("*", "/discuss/{doc_type:-?\d+}/{doc_id}/create", "discussion_create_document_as_node")
    add_route("*", "/d/{domain_id}/discuss/{doc_type:-?\d+}/{doc_id}/create", "discussion_create_document_as_node_with_domain_id")
    add_route("*", "/discuss/{did:\w{24}}", "discussion_detail")
    add_route("*", "/d/{domain_id}/discuss/{did:\w{24}}", "discussion_detail_with_domain_id")
    add_route("*", "/discuss/{did:\w{24}}/raw", "discussion_detail_raw")
    add_route("*", "/d/{domain_id}/discuss/{did:\w{24}}/raw", "discussion_detail_raw_with_domain_id")
    add_route("*", "/discuss/{did:\w{24}}/{drid:\w{24}}/raw", "discussion_reply_raw")
    add_route("*", "/d/{domain_id}/discuss/{did:\w{24}}/{drid:\w{24}}/raw", "discussion_reply_raw_with_domain_id")
    add_route("*", "/discuss/{did:\w{24}}/{drid:\w{24}}/{drrid:\w{24}}/raw", "discussion_tail_reply_raw")
    add_route("*", "/d/{domain_id}/discuss/{did:\w{24}}/{drid:\w{24}}/{drrid:\w{24}}/raw", "discussion_tail_reply_raw_with_domain_id")
    add_route("*", "/discuss/{did:\w{24}}/edit", "discussion_edit")
    add_route("*", "/d/{domain_id}/discuss/{did:\w{24}}/edit", "discussion_edit_with_domain_id")
    add_route("*", "/training", "training_main")
    add_route("*", "/d/{domain_id}/training", "training_main_with_domain_id")
    add_route("*", "/training/{tid:\w{24}}", "training_detail")
    add_route("*", "/d/{domain_id}/training/{tid:\w{24}}", "training_detail_with_domain_id")
    add_route("*", "/training/create", "training_create")
    add_route("*", "/d/{domain_id}/training/create", "training_create_with_domain_id")
    add_route("*", "/training/{tid}/edit", "training_edit")
    add_route("*", "/d/{domain_id}/training/{tid}/edit", "training_edit_with_domain_id")
    add_route("*", "/", "domain_main")
    add_route("*", "/d/{domain_id}/", "domain_main_with_domain_id")
    add_route("*", "/manage", "domain_manage")
    add_route("*", "/d/{domain_id}/manage", "domain_manage_with_domain_id")
    add_route("*", "/domain/edit", "domain_manage_edit")
    add_route("*", "/d/{domain_id}/domain/edit", "domain_manage_edit_with_domain_id")
    add_route("*", "/domain/user", "domain_manage_user")
    add_route("*", "/d/{domain_id}/domain/user", "domain_manage_user_with_domain_id")
    add_route("*", "/domain/permission", "domain_manage_permission")
    add_route("*", "/d/{domain_id}/domain/permission", "domain_manage_permission_with_domain_id")
    add_route("*", "/domain/role", "domain_manage_role")
    add_route("*", "/d/{domain_id}/domain/role", "domain_manage_role_with_domain_id")
    add_route("*", "/fs/{secret:\w{40}}", "fs_get")
    add_route("*", "/d/{domain_id}/fs/{secret:\w{40}}", "fs_get_with_domain_id")
    add_route("*", "/fs/upload", "fs_upload")
    add_route("*", "/d/{domain_id}/fs/upload", "fs_upload_with_domain_id")
    add_route("*", "/home/security", "home_security")
    add_route("*", "/d/{domain_id}/home/security", "home_security_with_domain_id")
    add_route("*", "/home/security/changemail/{code}", "user_changemail_with_code")
    add_route("*", "/d/{domain_id}/home/security/changemail/{code}", "user_changemail_with_code_with_domain_id")
    add_route("*", "/home/account", "home_account")
    add_route("*", "/d/{domain_id}/home/account", "home_account_with_domain_id")
    add_route("*", "/home/preference", "home_preference")
    add_route("*", "/d/{domain_id}/home/preference", "home_preference_with_domain_id")
    add_route("*", "/home/messages", "home_messages")
    add_route("*", "/d/{domain_id}/home/messages", "home_messages_with_domain_id")
    add_route("GET", "/home/messages-conn", "sockjs-url-home_messages-conn-greeting")
    add_route("GET", "/home/messages-conn/", "sockjs-url-home_messages-conn")
    add_route("*", "/home/messages-conn/{server}/{session}/{transport}", "sockjs-home_messages-conn")
    add_route("GET", "/home/messages-conn/websocket", "sockjs-websocket-home_messages-conn")
    add_route("GET", "/home/messages-conn/info", "sockjs-info-home_messages-conn")
    add_route("OPTIONS", "/home/messages-conn/info", "sockjs-info-options-home_messages-conn")
    add_route("GET", "/home/messages-conn/iframe.html", "sockjs-iframe-home_messages-conn")
    add_route("GET", "/home/messages-conn/iframe{version}.html", "sockjs-iframe-ver-home_messages-conn")
    add_route("GET", "/d/{domain_id}/home/messages-conn", "sockjs-url-home_messages-conn_with_domain_id-greeting")
    add_route("GET", "/d/{domain_id}/home/messages-conn/", "sockjs-url-home_messages-conn_with_domain_id")
    add_route("*", "/d/{domain_id}/home/messages-conn/{server}/{session}/{transport}", "sockjs-home_messages-conn_with_domain_id")
    add_route("GET", "/d/{domain_id}/home/messages-conn/websocket", "sockjs-websocket-home_messages-conn_with_domain_id")
    add_route("GET", "/d/{domain_id}/home/messages-conn/info", "sockjs-info-home_messages-conn_with_domain_id")
    add_route("OPTIONS", "/d/{domain_id}/home/messages-conn/info", "sockjs-info-options-home_messages-conn_with_domain_id")
    add_route("GET", "/d/{domain_id}/home/messages-conn/iframe.html", "sockjs-iframe-home_messages-conn_with_domain_id")
    add_route("GET", "/d/{domain_id}/home/messages-conn/iframe{version}.html", "sockjs-iframe-ver-home_messages-conn_with_domain_id")
    add_route("*", "/home/domain", "home_domain")
    add_route("*", "/d/{domain_id}/home/domain", "home_domain_with_domain_id")
    add_route("*", "/home/domain/create", "home_domain_create")
    add_route("*", "/d/{domain_id}/home/domain/create", "home_domain_create_with_domain_id")
    add_route("*", "/home/file", "home_file")
    add_route("*", "/d/{domain_id}/home/file", "home_file_with_domain_id")
    add_route("*", "/judge/playground", "judge_playground")
    add_route("*", "/d/{domain_id}/judge/playground", "judge_playground_with_domain_id")
    add_route("*", "/judge/noop", "judge_noop")
    add_route("*", "/d/{domain_id}/judge/noop", "judge_noop_with_domain_id")
    add_route("*", "/judge/datalist", "judge_datalist")
    add_route("*", "/d/{domain_id}/judge/datalist", "judge_datalist_with_domain_id")
    add_route("*", "/judge/{rid}/score", "judge_score")
    add_route("*", "/d/{domain_id}/judge/{rid}/score", "judge_score_with_domain_id")
    add_route("GET", "/judge/consume-conn", "sockjs-url-judge_consume-conn-greeting")
    add_route("GET", "/judge/consume-conn/", "sockjs-url-judge_consume-conn")
    add_route("*", "/judge/consume-conn/{server}/{session}/{transport}", "sockjs-judge_consume-conn")
    add_route("GET", "/judge/consume-conn/websocket", "sockjs-websocket-judge_consume-conn")
    add_route("GET", "/judge/consume-conn/info", "sockjs-info-judge_consume-conn")
    add_route("OPTIONS", "/judge/consume-conn/info", "sockjs-info-options-judge_consume-conn")
    add_route("GET", "/judge/consume-conn/iframe.html", "sockjs-iframe-judge_consume-conn")
    add_route("GET", "/judge/consume-conn/iframe{version}.html", "sockjs-iframe-ver-judge_consume-conn")
    add_route("GET", "/d/{domain_id}/judge/consume-conn", "sockjs-url-judge_consume-conn_with_domain_id-greeting")
    add_route("GET", "/d/{domain_id}/judge/consume-conn/", "sockjs-url-judge_consume-conn_with_domain_id")
    add_route("*", "/d/{domain_id}/judge/consume-conn/{server}/{session}/{transport}", "sockjs-judge_consume-conn_with_domain_id")
    add_route("GET", "/d/{domain_id}/judge/consume-conn/websocket", "sockjs-websocket-judge_consume-conn_with_domain_id")
    add_route("GET", "/d/{domain_id}/judge/consume-conn/info", "sockjs-info-judge_consume-conn_with_domain_id")
    add_route("OPTIONS", "/d/{domain_id}/judge/consume-conn/info", "sockjs-info-options-judge_consume-conn_with_domain_id")
    add_route("GET", "/d/{domain_id}/judge/consume-conn/iframe.html", "sockjs-iframe-judge_consume-conn_with_domain_id")
    add_route("GET", "/d/{domain_id}/judge/consume-conn/iframe{version}.html", "sockjs-iframe-ver-judge_consume-conn_with_domain_id")
    add_route("*", "/about", "about")
    add_route("*", "/d/{domain_id}/about", "about_with_domain_id")
    add_route("*", "/wiki/help", "wiki_help")
    add_route("*", "/d/{domain_id}/wiki/help", "wiki_help_with_domain_id")
    add_route("*", "/preview", "preview")
    add_route("*", "/d/{domain_id}/preview", "preview_with_domain_id")
    add_route("*", "/p", "problem_main")
    add_route("*", "/d/{domain_id}/p", "problem_main_with_domain_id")
    #add_route("*", "/p/category/{category:.*}", "problem_category")
    #add_route("*", "/d/{domain_id}/p/category/{category:.*}", "problem_category_with_domain_id")
    add_route("*", "/p/{pid:-?\d+|\w{24}}", "problem_detail")
    add_route("*", "/d/{domain_id}/p/{pid:-?\d+|\w{24}}", "problem_detail_with_domain_id")
    add_route("*", "/p/{pid}/submit", "problem_submit")
    add_route("*", "/d/{domain_id}/p/{pid}/submit", "problem_submit_with_domain_id")
    add_route("*", "/p/{pid}/pretest", "problem_pretest")
    add_route("*", "/d/{domain_id}/p/{pid}/pretest", "problem_pretest_with_domain_id")
    add_route("GET", "/p/{pid}/pretest-conn", "sockjs-url-problem_pretest-conn-greeting")
    add_route("GET", "/p/{pid}/pretest-conn/", "sockjs-url-problem_pretest-conn")
    add_route("*", "/p/{pid}/pretest-conn/{server}/{session}/{transport}", "sockjs-problem_pretest-conn")
    add_route("GET", "/p/{pid}/pretest-conn/websocket", "sockjs-websocket-problem_pretest-conn")
    add_route("GET", "/p/{pid}/pretest-conn/info", "sockjs-info-problem_pretest-conn")
    add_route("OPTIONS", "/p/{pid}/pretest-conn/info", "sockjs-info-options-problem_pretest-conn")
    add_route("GET", "/p/{pid}/pretest-conn/iframe.html", "sockjs-iframe-problem_pretest-conn")
    add_route("GET", "/p/{pid}/pretest-conn/iframe{version}.html", "sockjs-iframe-ver-problem_pretest-conn")
    add_route("GET", "/d/{domain_id}/p/{pid}/pretest-conn", "sockjs-url-problem_pretest-conn_with_domain_id-greeting")
    add_route("GET", "/d/{domain_id}/p/{pid}/pretest-conn/", "sockjs-url-problem_pretest-conn_with_domain_id")
    add_route("*", "/d/{domain_id}/p/{pid}/pretest-conn/{server}/{session}/{transport}", "sockjs-problem_pretest-conn_with_domain_id")
    add_route("GET", "/d/{domain_id}/p/{pid}/pretest-conn/websocket", "sockjs-websocket-problem_pretest-conn_with_domain_id")
    add_route("GET", "/d/{domain_id}/p/{pid}/pretest-conn/info", "sockjs-info-problem_pretest-conn_with_domain_id")
    add_route("OPTIONS", "/d/{domain_id}/p/{pid}/pretest-conn/info", "sockjs-info-options-problem_pretest-conn_with_domain_id")
    add_route("GET", "/d/{domain_id}/p/{pid}/pretest-conn/iframe.html", "sockjs-iframe-problem_pretest-conn_with_domain_id")
    add_route("GET", "/d/{domain_id}/p/{pid}/pretest-conn/iframe{version}.html", "sockjs-iframe-ver-problem_pretest-conn_with_domain_id")
    add_route("*", "/p/{pid}/solution", "problem_solution")
    add_route("*", "/d/{domain_id}/p/{pid}/solution", "problem_solution_with_domain_id")
    add_route("*", "/p/{pid}/solution/{psid:\w{24}}/raw", "problem_solution_raw")
    add_route("*", "/d/{domain_id}/p/{pid}/solution/{psid:\w{24}}/raw", "problem_solution_raw_with_domain_id")
    add_route("*", "/p/{pid}/solution/{psid:\w{24}}/{psrid:\w{24}}/raw", "problem_solution_reply_raw")
    add_route("*", "/d/{domain_id}/p/{pid}/solution/{psid:\w{24}}/{psrid:\w{24}}/raw", "problem_solution_reply_raw_with_domain_id")
    add_route("*", "/p/{pid}/data", "problem_data")
    add_route("*", "/d/{domain_id}/p/{pid}/data", "problem_data_with_domain_id")
    add_route("*", "/p/create", "problem_create")
    add_route("*", "/d/{domain_id}/p/create", "problem_create_with_domain_id")
    add_route("*", "/p/{pid}/edit", "problem_edit")
    add_route("*", "/d/{domain_id}/p/{pid}/edit", "problem_edit_with_domain_id")
    add_route("*", "/p/{pid}/settings", "problem_settings")
    add_route("*", "/d/{domain_id}/p/{pid}/settings", "problem_settings_with_domain_id")
    add_route("*", "/p/{pid}/upload", "problem_upload")
    add_route("*", "/d/{domain_id}/p/{pid}/upload", "problem_upload_with_domain_id")
    add_route("*", "/p/{pid}/statistics", "problem_statistics")
    add_route("*", "/d/{domain_id}/p/{pid}/statistics", "problem_statistics_with_domain_id")
    add_route("*", "/p/search", "problem_search")
    add_route("*", "/d/{domain_id}/p/search", "problem_search_with_domain_id")
    add_route("*", "/records", "record_main")
    add_route("*", "/d/{domain_id}/records", "record_main_with_domain_id")
    add_route("GET", "/records-conn", "sockjs-url-record_main-conn-greeting")
    add_route("GET", "/records-conn/", "sockjs-url-record_main-conn")
    add_route("*", "/records-conn/{server}/{session}/{transport}", "sockjs-record_main-conn")
    add_route("GET", "/records-conn/websocket", "sockjs-websocket-record_main-conn")
    add_route("GET", "/records-conn/info", "sockjs-info-record_main-conn")
    add_route("OPTIONS", "/records-conn/info", "sockjs-info-options-record_main-conn")
    add_route("GET", "/records-conn/iframe.html", "sockjs-iframe-record_main-conn")
    add_route("GET", "/records-conn/iframe{version}.html", "sockjs-iframe-ver-record_main-conn")
    add_route("GET", "/d/{domain_id}/records-conn", "sockjs-url-record_main-conn_with_domain_id-greeting")
    add_route("GET", "/d/{domain_id}/records-conn/", "sockjs-url-record_main-conn_with_domain_id")
    add_route("*", "/d/{domain_id}/records-conn/{server}/{session}/{transport}", "sockjs-record_main-conn_with_domain_id")
    add_route("GET", "/d/{domain_id}/records-conn/websocket", "sockjs-websocket-record_main-conn_with_domain_id")
    add_route("GET", "/d/{domain_id}/records-conn/info", "sockjs-info-record_main-conn_with_domain_id")
    add_route("OPTIONS", "/d/{domain_id}/records-conn/info", "sockjs-info-options-record_main-conn_with_domain_id")
    add_route("GET", "/d/{domain_id}/records-conn/iframe.html", "sockjs-iframe-record_main-conn_with_domain_id")
    add_route("GET", "/d/{domain_id}/records-conn/iframe{version}.html", "sockjs-iframe-ver-record_main-conn_with_domain_id")
    add_route("*", "/records/{rid}", "record_detail")
    add_route("*", "/d/{domain_id}/records/{rid}", "record_detail_with_domain_id")
    add_route("*", "/records/{rid}/rejudge", "record_rejudge")
    add_route("*", "/d/{domain_id}/records/{rid}/rejudge", "record_rejudge_with_domain_id")
    add_route("*", "/records/{rid}/data", "record_pretest_data")
    add_route("*", "/d/{domain_id}/records/{rid}/data", "record_pretest_data_with_domain_id")
    add_route("*", "/register", "user_register")
    add_route("*", "/d/{domain_id}/register", "user_register_with_domain_id")
    add_route("*", "/register/{code}", "user_register_with_code")
    add_route("*", "/d/{domain_id}/register/{code}", "user_register_with_code_with_domain_id")
    add_route("*", "/lostpass", "user_lostpass")
    add_route("*", "/d/{domain_id}/lostpass", "user_lostpass_with_domain_id")
    add_route("*", "/lostpass/{code}", "user_lostpass_with_code")
    add_route("*", "/d/{domain_id}/lostpass/{code}", "user_lostpass_with_code_with_domain_id")
    add_route("*", "/login", "user_login")
    add_route("*", "/d/{domain_id}/login", "user_login_with_domain_id")
    add_route("*", "/logout", "user_logout")
    add_route("*", "/d/{domain_id}/logout", "user_logout_with_domain_id")
    add_route("*", "/user/{uid:-?\d+}", "user_detail")
    add_route("*", "/d/{domain_id}/user/{uid:-?\d+}", "user_detail_with_domain_id")
    add_route("*", "/user/search", "user_search")
    add_route("*", "/d/{domain_id}/user/search", "user_search_with_domain_id")
    add_route("*", "/lang/{lang}", "language_set")
    add_route("*", "/d/{domain_id}/lang/{lang}", "language_set_with_domain_id")
